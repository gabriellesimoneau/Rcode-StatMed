# Rcode-StatisticsComputing
Support R code for article in Statistics and Computing

## Description of Files

### Folder 'R files'
* Generate_datasets.R: generate simulated datasets corresponding to data generating mechanisms described in Section 4.1 of the paper.
* Model_misspecification.R: produce .txt files with results to reproduce the content in Section 4.3 of the paper and some sections of the Supplementary Material.
* Nonregularity.R: produce .txt files with results to reproduce the content in Section 4.4 of the paper and some sections of the Supplementary Material.
* Unknown_error_distribution.R: produce .txt files with results to reproduce the content in Section 4.2 of the paper and some sections of the Supplementary Material.
* Figures_mainpaper.R: reproduce the figures in the paper.
* Figures_suppmaterial.R: reproduce all figures in the Supplementary Material.
* Asymptotic_variance_details.R: reproduce the results and figures in the last section of the Supplementary Material.

### Folder 'Figures'
It contains Figures 1-3 in the main paper.

### Folder 'Results'
It contains the .txt files with all results necessary to reproduce the figures and results in the main paper and Supplementary Material.

### DTRreg_v1.4.R
This is the source file of the unpublished DTRreg package.

## Reproducing Results: Workflow
1. The content of this repository should be saved on the user's machine. The path of this location will be referred to as PATH.
2. Generating simulated datasets: the datasets for all simulation studies are generated by running the file 'Generate_datasets.R' located in subfolder 'R files'. Therein, set outpath to a location where the simulated datasets should be stored, say outpath = PATH/DATASETS.
3. Generating .txt files with results: run 'Unknown_error_distribution.R', 'Model_misspecification.R' and 'Nonregularity.R' located in subfolder 'R files'. Thereine, set outpath = PATH/Results, set inpath = PATH/DATASETS and set dtrpath = PATH. Note that the codes can be run in parallel to decrease computational time.
4. Reproduce figures in main paper: run 'Figures_mainpaper.R' located in subfolder 'R files'. Therein, inpath = PATH/Results and outpath = PATH/Figures.
5. Reproduce figures in Supplementary Material: run 'Figures_suppmaterial.R' located in subfolder 'R files'. Therein, inpath = PATH/Results and outpath = PATH/Figures.
